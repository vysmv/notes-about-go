# Операторы и выражения

## Базовые определения

| Термин     | Описание |
|------------|----------|
| **Оператор** | Символ или ключевое слово, выполняющее действие над одним или несколькими операндами. Например: `+`, `-`, `=`, `&&`, `++`. |
| **Выражение** | Комбинация значений, переменных, операторов и вызовов функций, которая возвращает значение. Например: `a + b`, `strlen($str)` — выражения. |

**Следовательно:**

- Оператор может входить в выражение.
- Выражение может состоять из оператора и операндов.
- Но не каждое использование оператора — это выражение (например, `x++` в Go).

---

## Go

### Что является оператором в Go

- Арифметические: `+`, `-`, `*`, `/`, `%`
- Логические: `&&`, `||`, `!`
- Сравнения: `==`, `!=`, `<`, `<=`, `>`, `>=`
- Побитовые: `&`, `|`, `^`, `<<`, `>>`, `&^`
- Присваивания: `=`, `+=`, `-=`, и др.
- Адресация: `&`, `*` (разыменование)
- Инкремент/декремент: `++`, `--` (только постфикс)

### Что является выражением в Go

- Литералы: `42`, `"hello"`
- Идентификаторы: `x`, `someVar`
- Арифметические выражения: `a + b`, `x * 2`
- Логические выражения: `a > b`, `x == y`
- Вызовы функций: `fmt.Println(x)`, `math.Sqrt(y)`
- Индексация и обращения: `arr[i]`, `obj.Field`
- Композитные литералы: `[]int{1, 2}`, `map[string]int{"a": 1}`
- Типовые приведения: `float64(x)`

### Что не является выражением в Go

- Присваивание: `x = y` — инструкция, не возвращает значение.
- Инкремент/декремент: `x++`, `x--` — инструкции, не возвращают значение.
- Объявление переменных: `x := 5` — инструкция.
- Управляющие конструкции: `if`, `for`, `switch`, `select` — инструкции.
- Функции `go` и `defer` — инструкции, не возвращают значение.

---

## PHP

### Что является оператором в PHP

| Категория         | Операторы |
|-------------------|-----------|
| Арифметические     | `+`, `-`, `*`, `/`, `%`, `**` |
| Логические         | `&&`, `` |
| Сравнения          | `==`, `!=`, `===`, `!==`, `<`, `<=`, `>`, `>=`, `<=>` |
| Побитовые          | `&`, `` |
| Присваивания       | `=`, `+=`, `-=`, `*=`, `/=`, `.=` и др. |
| Инкремент/декремент| `++`, `--` (префиксные и постфиксные) |
| Тернарный          | `?:` (обычный), `??` (null coalescing), `??=` (с PHP 7.4) |

### Что является выражением в PHP

- Литералы: `42`, `"hello"`
- Переменные: `$x`, `$user`
- Арифметика: `$x + 2`, `$a * $b`
- Вызовы функций: `strlen($str)`, `array_merge(...)`
- Сравнения и логика: `$a == $b`, `$x && $y`
- Присваивание: `$x = 10` — возвращает значение
- Инкремент/декремент: `++$x`, `$x++` — возвращают значение
- Вложенные выражения: `$x = ($y = 2)` — допустимо
- Тернарные и коалесцирующие выражения: `$a ? $b : $c`, `$a ?? $b`

### Что не является выражением в PHP

- Управляющие конструкции: `if`, `while`, `for`, `switch`
- Объявления: `function`, `class`, `interface`, `trait`
- Инструкции: `return`, `echo`, `unset`, `break`, `continue`

---

## Сравнение Go и PHP: выражения и операторы

| Особенность                      | Go                              | PHP                                 |
|----------------------------------|----------------------------------|--------------------------------------|
| Присваивание — выражение?        | ❌ Нет (`x = y` — statement)     | ✅ Да (`$x = 1` возвращает `1`)      |
| Инкремент/декремент — выражение? | ❌ Нет (`x++` нельзя вложить)    | ✅ Да (`$x++` возвращает значение)   |
| Вложенные присваивания?          | ❌ Запрещены                     | ✅ Разрешены                         |
| Тернарный оператор (`?:`)?       | ❌ Нет                           | ✅ Есть                              |
| Null coalescing (`??`, `??=`)?   | ❌ Нет                           | ✅ Есть                              |
| `if`, `for`, `switch` как выражения? | ❌ Нет                       | ❌ Нет                              |
| Разделение выражений и инструкций? | Строгое                        | Смешанное                            |
| Операторы входят в выражения?    | Только если оператор возвращает значение | Почти всегда                  |
