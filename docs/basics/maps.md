# Карты (Map)

В Go map — это встроенный тип данных, представляющий отображение (словари, ассоциативные массивы). Он связывает ключи с значениями. Например, map[string]int означает "карта, в которой строки сопоставляются с целыми числами".
Основные способы создания map:

## Через make

```go
var tableMap = make(map[uint64]string)
```

Что происходит:

- make — встроенная функция, которая выделяет память и инициализирует map.
- map[uint64]string — это карта, где ключ типа uint64, а значение — string.

Почему через make?
Потому что map — это ссылочный тип, и до инициализации он равен nil.
make() гарантирует, что мы получим готовую к использованию карту (а не nil), в которую можно добавлять элементы.

## Через литерал (инициализация с заполнением)

```go
tableMap := map[uint64]string{
	1: "user",
	2: "order",
	3: "product",
}
```

Синтаксис похож на JSON. Эта форма удобна, когда сразу известны данные.

## Объявление без инициализации

```go
var tableMap map[uint64]string
```

> Осторожно: Эта карта будет nil, и если мы попробуем сделать что-то вроде:
> tableMap[1] = "hello" // panic: assignment to entry in nil map

## Под капотом

map в Go — это хеш-таблица.
Она автоматически увеличивает размер при необходимости.
Ключи должны быть сравнимыми (их можно сравнивать через ==, как строки, числа, булевы и указатели). Нельзя использовать slice, map или function в качестве ключей.

**Примеры операций**

```go
m := make(map[string]int)
m["one"] = 1
m["two"] = 2

val := m["one"]    	// Получить значение
_, ok := m["three"]	// Проверить существование
/*
ok — булево значение (true или false):
    true, если ключ "three" существует в map;
    false, если не существует.
    Вместо _ можно получить значение:
    value, ok := m["three"]
*/
delete(m, "two")   	// Удалить элемент
```


## Итого

| Способ            | Когда использовать                             |
|-------------------|------------------------------------------------|
| `make(map[...])`  | Когда нужно создать пустую карту              |
| Литерал           | Когда знаешь значения заранее                 |
| `var m map[...]`  | Только если будешь позже инициализировать через `make` |